# 1. 도커를 사용하는 이유
- 어떤 프로그램을 다운로드 받는 과정을 간단하게 만들기 위함

### 도커 없이 프로그램을 받을 때 원래 프로그램을 다운받고 실행하는 순서
1. 인스톨러 내려받기
2. 인스톨러 실행
3. 프로그램 설치 완료

- 위의 방식대로 하면 에러가 종종 발생한다
    - OS 등이 다르면 다운로드 받는 방법이 달라지기 때문
- 도커를 이용하면 설치 과정도 간단해지고 예상하지 못하는 에러가 발생하지 않는다
  - 필수 사항은 아니지만 선택 사항으로 좋은 선택이 될 수 있음

---
# 2. 도커란 무엇인가?
- 컨테이너를 사용해서 응용 프로그램을 더 쉽게 만들고 배포하고 실행할 수 있도록 설꼐된 도구
- 컨테이너 기반의 오픈소스 가상화 플랫폼이며 생태계다.

## 서버에서 컨테이너의 개념
- 컨테이너 안에 다양한 프로그램, 실행 환경을 컨테이너로 추상화하고 동일한 인터페이스를 제공하여 프로그램의 배포 및 관리를 단순하게 한다
- 프로그램을 쉽게 이동 배포 관리를 할 수 있게 해준다.
- AWS, Azure, Google Cloud 등 어디에서든 실행 가능하게 한다.

---
# 3. 도커를 사용할 때의 흐름 감잡기
- 도커를 사용할 때는
 1. 도커 CLI 에 커맨드를 입력하낟.
 2. 도커 서버(도커 Daemon)이 그 커맨드를 받아서 그것에 따라 이미지를 생성하든 컨테이너를 실행하든 모든 작업을 하게 된다.

`$ docekr run hello-world`
1. 도커 클라이언트에 커맨드를 입력하니 클라이언트에서 도커 서버로 요청을 보냄
2. 서버에서 hello-world 라는 이미지가 이미 로컬에 cache 돼 있는지를 확인
3. 현재 없으므로 Unable to find image 라는 문구가 두 번째 줄에 표시 
4. 다음으로 Docker Hub 라는 이미지가 저장된 곳에 가서 그 이미지를 가져오고 로컬에 Cache 로 보관 
5. 이제 이미지가 있으니 그 이미지를 이용해 컨테이너를 생성 
6. 이미지로 생성된 컨테이너는 이미지에서 받은 설정이나 조건에 따라 프로그램을 실행

---
# 4. 이미지로 컨테이너 만들기
- 이미지는 응용 프로그램을 실행하는데 필요한 모든 것을 포함한다.
- 필요한 것이란?
  - 컨테이너가 시작될 때 실행되는 명령어 (ex: run kakaotalk)
  - 파일 스냅샷 (디렉토리나 파일을 카피한 것. 실행하는데 필요한 파일)

## 4-1) 이미지로 컨테이너를 만드는 순서
1. Docker 클라이언트에 `docker run <이미지>` 를 입력
2. 도커 이미지에 있는 파일 스냅샷을 컨테이너 하드 디스크에 옮긴다.
   - 파일 스냅샷으로 `hello-world` 설치에 필요한 파일을 하드 디스크에 넣는다
3. 이미지에서 갖고 있는 명령어(컨테이너가 실행될 때 사용될 명령어)를 이용해서 프로그램을 실행시킨다.
   - `run hello-world` 로 명령어를 컨테이너에서 실행한다.
   - 해당 명령어가 커널을 통해서 실행되고 하드디스크에 저장된 파일을 실행한다
